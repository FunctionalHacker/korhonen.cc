---
title: T√§m√§n sivun luominen
description: Matkani AsciiDocin and Hugon parissa ja miten t√§h√§n pisteeseen p√§√§dyttiin
date: 2022-09-14
featured_image: hero.jpg
menu:
  sidebar:
    name: T√§m√§n sivun luominen
    identifier: creating_this_site
---
= T√§m√§n sivuston luominen
Marko Korhonen <marko@korhonen.cc>
v1.0, 2022-09-14

Kuten teknologiaan liittyviss√§ blogeissa n√§ytt√§√§ olevan tapana, ensimm√§inen postaus on itse blogin luomisesta.
Joten t√§ss√§ olemme, t√§m√§ on ensimm√§inen kirjoitus blogissani, joka kuvaa vaiheet jotka johtivat t√§h√§n pisteeseen.

== Vaihtoehtojen arviointi

Kiinnostuin ensimm√§isen kerran staattisista sivugeneraattoreista vuosia sitten, kun yst√§v√§ni Fatih rakensi link:https://teaddict.net[oman sivunsa] k√§ytt√§en link:https://jekyllrb.com[Jekylli√§].
Se tuntui eritt√§in virkist√§v√§lt√§ tuolloin, koska siihen aikaan kotisivuni olivat WordPressiss√§, mik√§ tuntui aina hieman liian ylimitoitetulta ja raskaalta tarpeisiini n√§hden.

=== Jekyll

Yritin asentaa Jekylli√§ useita kertoja vuonna 2021, mutta menetin mielenkiinnon monimutkaisen build-prosessin takia, joka vaati kaikenlaisten bundlejen ja  gemien m√§√§ritt√§mist√§ (en koskaan ollut erityisen kiinnostunut Rubysta alun perink√§√§n).
Minun piti my√∂s debuggata kaikenlaisia ongelmia, jotka johtuivat blogilleni asettamistani vaatimuksista.
Lis√§sin useita liit√§nn√§isi√§, jotka eiv√§t toimineet kovin hyvin yhdess√§.
Suurin haaste oli se, ett√§ halusin k√§ytt√§√§ sivun kirjoittamiseen link:https://en.wikipedia.org/wiki/AsciiDoc[AsciiDocia].
Jekyll tue t√§t√§ oletuksena, joten minun piti k√§ytt√§√§ link:https://github.com/asciidoctor/jekyll-asciidoc[pluginia].
T√§m√§ plugin ei n√§ytt√§nyt toimivan kovin hyvin muiden tarvitsemieni pluginien ja teeman kanssa.

Joka tapauksessa en koskaan p√§√§ssyt pidemm√§lle sivuston asentamisessa, joten laitoin projektin taka-alalle.
Alusta l√§htien nykyisen domainini link:https://korhonen.cc[korhonen.cc] perustamisesta joulukuussa 2020 aina kes√§√§n 2022 asti domainin juuri n√§ytti vain 404-virheen. Minulla oli paljon itse hostattuja sovelluksia asennettuna vain subdomaineissa.

=== Hugo

L√∂ydetty√§ni link:https://gohugo.io[Hugon] innostuin heti. Se n√§ytti olevan vastaus kaikkiin ongelmiini.
P√§√§limm√§iset edut olivat

* Staattinen bin√§√§ri
* Suora tuki AsciiDocille

T√§m√§n ansiosta sain perussivuston k√§ytt√∂√∂n muutamassa minuutissa.
Ei en√§√§ sotkemista bundlejen ja gemien kanssa.
Minun ei my√∂sk√§√§n tarvinnut k√§ytt√§√§ mit√§√§n plugineita, koska Hugo n√§ytti tukevan oletuksena kaikkea mit√§ tarvitsin.

== Konfigurointi

P√§√§tin k√§ytt√§√§ link:https://github.com/hossainemruz/toha[Hugo Toha] -teemaa sivustollani, koska se n√§ytti tekev√§n hyvin kaikki asiat, jotka halusin saavuttaa t√§ll√§ sivustolla

* Verkkosivusto, johon voin lis√§t√§ helposti haluamani m√§√§r√§n staattisia sivuja (ei blogikirjoituksia)
** link:/fi/pgp[Sivu tietoja PGP-avaimestani]
** link:/fi/korhonen_aur[Sivu tietoja Arch Linux -varastostani]
* link:/fi[Esittely ja portfolio]
* link:/fi/posts[Blogi]

Hugon ja teeman konfigurointi kesti aikansa, mutta oli sen arvoista.
Minulla on nyt kaunis ja monipuolinen sivusto, jota on helppo yll√§pit√§√§ ja laajentaa.

=== Kommentointij√§rjestelm√§

Halusin lis√§t√§ mahdollisuuden k√§ytt√§jille kommentoida blogiani. Vaikka yleens√§ hostaan itse kaiken mahdollisen, t√§ll√§ kertaa p√§√§dyin link:https://giscus.app[Giscus]-palveluun.
Se k√§ytt√§√§ GitHub Discussions alustaa backendin√§√§n, joten minun tarvitsi vain luoda repo GitHubissa jossa on t√§m√§ ominaisuus p√§√§ll√§ ja konfiguroida se Tohaan (valitsemaani Hugon teemaan).

K√§vin l√§pi kaikki Tohan tuetut vaihtoehdot, mutta mik√§√§n niist√§ ei ollut itse hostattavissa.
En halunnut my√∂sk√§√§n toteuttaa tukea uudelle kommenttialustalle itse.
T√§m√§ voisi olla kuitenkin hauska projekti tulevaisuudessa.

== Build prosessin automatisointi

_P√§ivitys 2022-12-17: Olen vaihtanut Drone CI:st√§ Woodpecker CI:hin.
Woodpecker on avoimen l√§hdekoodin fork Dronesta, koska Drone siirtyi suljettuun lisenssiin._

_P√§ivitys 2022-12-17 osa 2: Olen vaihtanut Giteasta Forgejoon.
Forgejo on avoimen l√§hdekoodin fork Gitesta, koska Gitea n√§ytt√§√§ siirtyv√§n suljettuun liiketoimintamalliin._

Kun asensin t√§t√§ sivustoa, sain tiet√§√§ link:https://woodpecker-ci.org[Woodpecker CI]:st√§, joka n√§ytti sopivan tarpeisiini erinomaisesti.
Olin kokeillut link:https://www.jenkins.io[Jenksi√§] aiemmin, mutta en pit√§nyt sit√§ kovin helppok√§ytt√∂isen√§.
En my√∂sk√§√§n pit√§nyt siit√§, ett√§ se kulutti niin paljon resursseja.

Woodpeckerin asentaminen kesti vain noin 30 minuuttia erinomaisen dokumentaation ja sis√§√§nrakennetun link:https://forgejo.org[Forgejo]-tuen ansiosta (jota k√§ytin jo vuosia ennen t√§t√§).
Pipelinen asentaminen vaati hieman enemm√§n kokeilua ja virheiden korjausta, mutta loppujen lopuksi se osoittautui melko helpoksi.

Asiaan liittyv√§t konfiguraatiotiedostot

* link:https://git.korhonen.cc/FunctionalHacker/korhonen.cc/src/branch/main/.woodpecker.yml[Sivuston buildiin k√§ytetty pipeline]
* link:https://git.korhonen.cc/FunctionalHacker/dotfiles/src/branch/main/docker/forgejo/docker-compose.toml[Forgejo-serverin konfiguraatio]
* link:https://git.korhonen.cc/FunctionalHacker/dotfiles/src/branch/main/docker/woodpecker/docker-compose.toml[Woodpecker CI:n konfiguraatio]

== Tulevaisuuden suunnitelmat

En aio tulla s√§√§nn√∂lliseksi bloggaajaksi l√§hiaikoina.
Jos l√∂yd√§n jotain, mik√§ voisi olla arvokasta muille, kirjoitan siit√§ t√§√§ll√§, jos vaan l√∂yd√§n siihen aikaa ja energiaa.

Nautin paljon Linuxin n√§pr√§√§misest√§ ja sovellusten itse hostaamisesta palvelimellani, joten saatan kirjoittaa joitain ohjeita n√§ist√§ aiheista tulevaisuudessa.
Olen my√∂s link:https://neovim.io[NeoVim]-k√§ytt√§j√§, joten saatan kirjoittaa postauksen link:https://git.korhonen.cc/FunctionalHacker/dotfiles/src/branch/main/home/.config/nvim[asetuksistani] jossakin vaiheessa.

T√§ss√§ on kuvankaappaus minusta kirjoittamassa t√§t√§ blogikirjoitusta. Aika meta üòÉ

.Kuvankaappaus minusta kirjoittamassa blogikirjoitusta t√§st√§ blogista
image::assets/writing_blogpost_neovim_hugo.png[Min√§ kirjoittamassa t√§t√§ blogikirjoitusta]
